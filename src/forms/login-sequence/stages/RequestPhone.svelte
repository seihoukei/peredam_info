<script>
    import LoginPrompt from "../elements/LoginPrompt.svelte"
    import {createEventDispatcher} from "svelte"
    import {fly} from "svelte/transition"
    import {loginFlyLeft} from "../../../utility/transitions.js"

    export let phone

    let raw = ""

    const dispatch = createEventDispatcher()

    function noPhone() {
        dispatch("nophone")
    }

    $: phone = `ðŸ“ž${raw.replace(/[^0-9]*/g,"").slice(-10)}`

</script>

<div class="central centered spaced flex container" transition:fly={loginFlyLeft}>
    <LoginPrompt type="tel" bind:value={raw} on:submit hint="ÐÐ¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°">
        Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°
    </LoginPrompt>
    <button on:click={noPhone}>â—€ Ð’Ñ…Ð¾Ð´ Ð±ÐµÐ· Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°</button>
</div>
